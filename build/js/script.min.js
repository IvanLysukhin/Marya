const buttons=Array.from(document.querySelectorAll(".promo-slider__button")),slide=document.querySelector(".promo-slider__slide"),smallSlide=document.querySelector(".promo-slider__small-slide"),page=document.querySelector("html"),scrollMenu=document.querySelector(".scroll-menu"),searchBtn=document.querySelectorAll(".main-nav__button-link--search"),searchModal=document.querySelector(".search-form"),burgerBtn=document.querySelector(".main-nav__burger-button"),burgerCloseBtn=document.querySelector(".scroll-menu__burger--close"),menuModal=document.querySelector(".menu-modal"),mainContainer=document.querySelector(".page-main"),promoPic=document.querySelector(".promo-slider__pic"),promoText=document.querySelector(".promo-slider__text--big"),scrollMenuBtn=document.querySelector(".scroll-menu__burger"),scrollSearchBtn=document.querySelector(".scroll-menu__button--search"),changeClasses=function(e,s){e.classList.contains("promo-slider__slide--first")&&e.classList.remove("promo-slider__slide--first"),e.classList.contains("promo-slider__slide--second")&&e.classList.remove("promo-slider__slide--second"),e.classList.contains("promo-slider__slide--third")&&e.classList.remove("promo-slider__slide--third"),0===s&&e.classList.add("promo-slider__slide--first"),1===s&&e.classList.add("promo-slider__slide--second"),2===s&&e.classList.add("promo-slider__slide--third")},changeSmallClasses=function(e,s){e.classList.contains("promo-slider__small-slide--first")&&e.classList.remove("promo-slider__small-slide--first"),e.classList.contains("promo-slider__small-slide--second")&&e.classList.remove("promo-slider__small-slide--second"),e.classList.contains("promo-slider__small-slide--third")&&e.classList.remove("promo-slider__small-slide--third"),0===s&&e.classList.add("promo-slider__small-slide--first"),1===s&&e.classList.add("promo-slider__small-slide--second"),2===s&&e.classList.add("promo-slider__small-slide--third")},changeButtonClass=function(o){buttons.forEach(function(e,s){s===o?e.classList.add("promo-slider__button--current"):e.classList.remove("promo-slider__button--current")})};buttons.forEach(function(e,s){e.addEventListener("click",function(){switch(s){case 0:changeButtonClass(s),changeClasses(slide,s),changeSmallClasses(smallSlide,s),promoPic.src="img/bosh-log.png",promoText.textContent="Посудомоечная машина в подарок";break;case 1:changeButtonClass(s),changeClasses(slide,s),changeSmallClasses(smallSlide,s),promoPic.src="img/electrolux-log.png",promoText.textContent="Духовой шкаф со скидкой 20%";break;case 2:changeButtonClass(s),changeClasses(slide,s),changeSmallClasses(smallSlide,s),promoPic.src="img/bosh-log.png",promoText.textContent="Посудомоечная машина в подарок"}})}),window.addEventListener("scroll",function(e){300<page.scrollTop?scrollMenu.style.display="block":scrollMenu.style.display="none"});const closeModalSearch=function(){searchModal.style.display="none",window.removeEventListener("keydown",closeEsc),searchBtn.forEach(function(e){e.classList.remove("main-nav__button-link--current")})},closeEsc=function(e){27===e.keyCode&&closeModalSearch()},closeModalMenu=function(){menuModal.style.display="none",mainContainer.style.display="grid",window.removeEventListener("keydown",closeModalByEsc)},openModalMenu=function(){closeModalSearch(),menuModal.style.display="block",mainContainer.style.display="none",window.addEventListener("keydown",closeModalByEsc)},addActiveClassForBtn=function(e){e.classList.add("main-nav__button-link--current")},openModalSearch=function(){searchModal.style.display="block",window.addEventListener("keydown",closeEsc),searchBtn.forEach(addActiveClassForBtn)};searchModal.addEventListener("click",function({target:e}){(e.classList.contains("search-form__form")||e.classList.contains("search-form__result-container"))&&closeModalSearch()}),searchBtn.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),closeModalMenu(),openModalSearch()})}),scrollSearchBtn.addEventListener("click",function(e){e.preventDefault(),window.scrollTo(0,0),searchModal.style.display="block",window.addEventListener("keydown",closeEsc),searchBtn.forEach(addActiveClassForBtn)});const closeModalByEsc=function(e){27===e.keyCode&&closeModalMenu()};burgerBtn.addEventListener("click",openModalMenu),scrollMenuBtn.addEventListener("click",openModalMenu),burgerCloseBtn.addEventListener("click",closeModalMenu);